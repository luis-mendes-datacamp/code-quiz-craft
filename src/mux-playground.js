import mux from '@datacamp/multiplexer-client';

const syncSession = new mux.SyncSession(
    { email: 'patryk.szulczyk@datacamp.com', authentication_token: 'eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJneUZvOVJGU21lTUIzcGZRNk1oMkhFa182dksySDYxR05tbF9aSENZZzdnIn0.eyJleHAiOjE3NDc3NDAxMTgsImlhdCI6MTczOTk2NDExOCwiYXV0aF90aW1lIjoxNzM5OTY0MTE4LCJqdGkiOiIyNzg1ZDNiNS1iNTBhLTQyOTQtYTZhOC0xY2I3YWQ1YTlmN2MiLCJpc3MiOiJodHRwczovL2F1dGguZGF0YWNhbXAuY29tL3JlYWxtcy9kYXRhY2FtcC11c2VycyIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiJkZDNlZDNlOS0wMDZmLTQxMWItOGEwNC1hZjgyOTllZTlhYzEiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJEQjJEMkI1Ri1ERUM4LTQyMjUtQkNBQS0xRDM0NTA0RDg2OTYiLCJzaWQiOiI5NDc4NGEwMy1lOWFmLTRmOTUtOThmYy1jYWExMDVjOWYzZmYiLCJhY3IiOiIxIiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm9mZmxpbmVfYWNjZXNzIiwidW1hX2F1dGhvcml6YXRpb24iLCJkZWZhdWx0LXJvbGVzLWRhdGFjYW1wLXVzZXJzIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgZGMtdXNlci1pZCBwcm9maWxlIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsInVzZXJfaWQiOjE0NTg0MzgzLCJuYW1lIjoiUGF0cnlrIFN6dWxjenlrIiwicHJlZmVycmVkX3VzZXJuYW1lIjoicGF0cnlrLnN6dWxjenlrQGRhdGFjYW1wLmNvbSIsImlkZW50aXR5X3Byb3ZpZGVyX2FsaWFzIjoiYjJiLXNzby1ncm91cC00OTQ3IiwiZ2l2ZW5fbmFtZSI6IlBhdHJ5ayIsImZhbWlseV9uYW1lIjoiU3p1bGN6eWsiLCJlbWFpbCI6InBhdHJ5ay5zenVsY3p5a0BkYXRhY2FtcC5jb20ifQ.OuplrURAnv_0nW3dbj_LzF7OOgWUyDZqgs0q8I87atwCWtJLKMQFtnJgVWhrWcqhNUhooohahaWzevzbqGSRNfhigiPNcZdFEE2YI2BQJm9SXEYOkRFMZuTKpNF85-rrX7YqNDmYspWYg4sqgCArozM_vdHpKLvPFW237iPQuax1lzZX7080XFsLscDJ0rR19UYVvm56yeo1yEqIsQ4xY3MSRwXkH_hIbbOrokuu_ksOhGEgUhQnAjb70iyj_kb4HYh4urfx-_vDNPxv1aCI5fNr_c_L72HU0k_VjUqATbqAv6S-oyU7oGha8pgCZDkxVOgAeZUxvc4Xj5wDbJyqyQ' },
    { multiplexerUrl: 'https://sessions.datacamp.com', language: 'python', initCommand: 'python'}
);

await syncSession.start();
syncSession.input({ command: 'console', code: 'print(1)' }).then(outputs => {
    console.log(outputs);
});